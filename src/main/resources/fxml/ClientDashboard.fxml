<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.text.Text?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="Controllers.ClientDashboardController"
            stylesheets="@../styles/client-styles.css">

    <!-- Top Navigation Bar -->
    <top>
        <VBox styleClass="header-container">
            <!-- Main Header with Logo and User Info -->
            <HBox styleClass="main-header">
                <!-- Logo and App Name -->
                <HBox styleClass="logo-container" alignment="CENTER_LEFT" spacing="15">
                    <Label text="ðŸšš" styleClass="logo-icon"/>
                    <Label text="QuickDelivery" styleClass="app-name"/>
                </HBox>

                <Region HBox.hgrow="ALWAYS" />

                <!-- User Profile Section -->
                <HBox styleClass="user-profile" alignment="CENTER" spacing="15">
                    <!-- User Info with Dropdown -->
                    <MenuButton fx:id="userMenuButton" styleClass="user-menu-button">
                        <graphic>
                            <HBox spacing="10" alignment="CENTER">
                                <StackPane styleClass="avatar-container">
                                    <Circle fx:id="userAvatar" radius="18" styleClass="user-avatar"/>
                                    <Circle fx:id="userStatusIndicator" radius="5" styleClass="status-indicator"
                                            translateX="12" translateY="12"/>
                                </StackPane>
                                <Label fx:id="userNameLabel" styleClass="user-name" text="Nom d'utilisateur"/>
                            </HBox>
                        </graphic>
                        <items>
                            <MenuItem text="Mon profil" onAction="#handleProfile"/>

                            <SeparatorMenuItem />
                            <MenuItem text="DÃ©connexion" onAction="#handleLogout"/>
                        </items>
                    </MenuButton>
                </HBox>
            </HBox>

            <!-- Navigation Menu -->
            <HBox styleClass="nav-menu">
                <Button text="Produits" onAction="#handleProducts" styleClass="nav-button"/>
                <Button text="Mes commandes" onAction="#handleMyOrders" styleClass="nav-button"/>


            </HBox>
        </VBox>
    </top>

    <!-- Main Content Area -->
    <center>
        <VBox styleClass="content-container">
            <!-- Welcome Banner -->
            <VBox fx:id="welcomeBanner" styleClass="welcome-banner">
                <HBox alignment="CENTER_LEFT" spacing="20">
                    <VBox spacing="10">
                        <Label fx:id="welcomeMessage" styleClass="welcome-message" text="Bienvenue, Client!"/>
                        <Label styleClass="welcome-subtitle" text="DÃ©couvrez nos produits et passez commande facilement"/>
                        <HBox spacing="15" styleClass="action-buttons">
                            <Button text="Voir les produits" onAction="#handleProducts" styleClass="primary-button"/>
                            <Button text="Mes commandes" onAction="#handleMyOrders" styleClass="secondary-button"/>
                        </HBox>
                    </VBox>
                </HBox>
            </VBox>

            <!-- Content Area -->
            <BorderPane fx:id="contentArea" VBox.vgrow="ALWAYS" styleClass="main-content"/>

            <!-- Status Bar -->
            <HBox styleClass="status-bar">
                <Label fx:id="statusLabel" text="PrÃªt"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Label fx:id="dateTimeLabel" text="Date et heure"/>
            </HBox>
        </VBox>
    </center>
</BorderPane>